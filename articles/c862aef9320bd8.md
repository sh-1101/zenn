---
title: "TypeScriptã®Enumã‚’å’æ¥­ã—ã¦å‹å®‰å…¨æ€§ã‚’é«˜ã‚ã‚‹ - Union Typeã«ã‚ˆã‚‹ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°"
emoji: "ğŸˆ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["typescript", "contest2025ts"]
published: true
---

## ã¯ã˜ã‚ã«

TypeScript ã§é–‹ç™ºã‚’é€²ã‚ã‚‹éš›ã€å®šæ•°å€¤ã®ç®¡ç†ã«`Enum`ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹æ–¹ã‚‚ã„ã‚‰ã£ã—ã‚ƒã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚
ã—ã‹ã—ã€å®Ÿéš›ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–‹ç™ºã§ã¯ã€Enum ãŒåŸå› ã§å‹å®‰å…¨æ€§ãŒæãªã‚ã‚ŒãŸã‚Šã€äºˆæœŸã—ãªã„ãƒã‚°ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€å®Ÿéš›ã«é­é‡ã—ãŸ Enum ã®èª²é¡Œã¨ã€Union Type ã‚’æ´»ç”¨ã—ãŸè§£æ±ºæ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚

## Enum ä½¿ç”¨æ™‚ã®èª²é¡Œ

Enum ã‚’ä½¿ç”¨ã—ã¦ã„ãŸå½“åˆã€ä»¥ä¸‹ã®ã‚ˆã†ãªå•é¡Œã«é­é‡ã—ã¾ã—ãŸã€‚

1. **å®Ÿè¡Œæ™‚ã®å‹å®‰å…¨æ€§ã®æ¬ å¦‚**

2. **äºˆæœŸã—ãªã„å€¤ã®æ··å…¥**

ã¾ãŸã€é­é‡ã¯ã—ã¾ã›ã‚“ã§ã—ãŸãŒã€Enum ã®ãƒªãƒãƒ¼ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹æ··ä¹±ã‚‚è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

3. **ãƒªãƒãƒ¼ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹æ··ä¹±**

## Enum å®Ÿè£…ã®å•é¡Œç‚¹

ã¾ãšã€å•é¡Œã®ã‚ã‚‹ Enum å®Ÿè£…ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

1. **å‹å®‰å…¨æ€§ã®æ¬ å¦‚**

```typescript
// å‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ã‹ãªã„
const activityType: ActivityType = 999 as ActivityType;
console.log(activityType); // 999 å‹ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„
```

2. **äºˆæœŸã—ãªã„å€¤ã®æ··å…¥**

```typescript
// APIã‹ã‚‰å–å¾—ã—ãŸå€¤ã‚’ãã®ã¾ã¾Enumã«ä»£å…¥
const apiResponse = { activityType: 15 }; // å­˜åœ¨ã—ãªã„å€¤
const activity: ActivityType = apiResponse.activityType as ActivityType;
// å®Ÿè¡Œæ™‚ã¾ã§å•é¡Œã«æ°—ã¥ã‘ãªã„
```

3. **ãƒªãƒãƒ¼ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹æ··ä¹±**

```typescript
// Enumã¯æ•°å€¤ã‹ã‚‰æ–‡å­—åˆ—ã¸ã®é€†å¼•ããŒå¯èƒ½ï¼ˆæ„å›³ã—ãªã„å‹•ä½œï¼‰
console.log(ActivityType[1]); // "LOGIN"
console.log(ActivityType["LOGIN"]); // 1

// äºˆæœŸã—ãªã„å€¤ã§ã‚‚é€šã£ã¦ã—ã¾ã†
const unknownValue = ActivityType[999]; // undefined ã ãŒå‹ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„
```

## Union Type ã‚’æ´»ç”¨ã—ãŸè§£æ±º

ã“ã‚Œã‚‰ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã€const assertion ã¨ Union Type ã‚’çµ„ã¿åˆã‚ã›ãŸå®Ÿè£…ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

```typescript
export const ACTIVITY_TYPES = {
  // ãƒ­ã‚°ã‚¤ãƒ³
  LOGIN: 1,
  JOIN: 2,
  LEAVE: 3,
} as const;

// ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã®å€¤ï¼ˆæ•°å€¤ãƒªãƒ†ãƒ©ãƒ«å‹ï¼‰
export type ActivityType = (typeof ACTIVITY_TYPES)[keyof typeof ACTIVITY_TYPES];

// å‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°
export const isActivityType = (value: number): value is ActivityType => {
  return Object.values(ACTIVITY_TYPES).includes(value as ActivityType);
};

// ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã‹ã‚‰åå‰ã‚’å–å¾—ã™ã‚‹é–¢æ•°
export const getActivityTypeName = (type: ActivityType): string => {
  const entry = Object.entries(ACTIVITY_TYPES).find(
    ([, value]) => value === type
  );
  return entry ? entry[0] : "Unknown Activity Type";
};
```

### æ”¹å–„ã•ã‚ŒãŸä½¿ç”¨ä¾‹

```typescript
// å‹å®‰å…¨ãªå®Ÿè£…
function logActivity(activityType: ActivityType) {
  const activityName = getActivityTypeName(activityType);
  console.log(`Activity: ${activityName} (${activityType})`);
}

// APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å®‰å…¨ãªå‡¦ç†
function processActivityFromApi(response: {
  activityType: number;
}): ActivityType | null {
  if (isActivityType(response.activityType)) {
    return response.activityType;
  }
  console.error(`Invalid activity type received: ${response.activityType}`);
  return null; // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
}
```

## ã¾ã¨ã‚

TypeScript ã® Enum ã‹ã‚‰ Union Type ã¸ç§»è¡Œã—ãŸã“ã¨ã«ã‚ˆã‚Šã€ä¸æ­£ãªå€¤ã®æ··å…¥ã‚’é˜²æ­¢ã—å‹å®‰å…¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚

Enum ã‚’ç‰¹ã«ç†ç”±ãªãå¤šç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€æ®µéšçš„ã« Union Type ã¸ã®ç§»è¡Œã‚’æ¤œè¨ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šå‹å®‰å…¨ã«é–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚

ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸæ–¹æ³•ä»¥å¤–ã«ã‚‚æ§˜ã€…ãªæ‰‹æ³•ãŒã‚ã‚‹ã‚ˆã†ãªã®ã§ã€ä»–ã«ã‚‚è‰¯ã„æ–¹æ³•ãŒã‚ã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆã§æ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚

### å‚è€ƒãƒªãƒ³ã‚¯

https://typescriptbook.jp/reference/values-types-variables/enum/enum-problems-and-alternatives-to-enums
